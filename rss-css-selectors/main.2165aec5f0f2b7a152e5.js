(()=>{"use strict";var e={801:(e,t,n)=>{n.r(t)},68:(e,t,n)=>{n.r(t)},335:(e,t,n)=>{n.r(t)},562:(e,t,n)=>{n.r(t)},757:(e,t,n)=>{n.r(t)},790:(e,t,n)=>{n.r(t)},247:(e,t,n)=>{n.r(t)},246:(e,t,n)=>{n.r(t)},717:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(974),l=s(n(731)),a=s(n(391)),d=s(n(829)),r=s(n(502));t.default=class{constructor(){this.mainContainer=(0,i.addElement)("main","main"),this.elements=new a.default(this.mainContainer,this.helpWithAnswer.bind(this)),this.cssEditor=new l.default(this.mainContainer,this.levelComplete.bind(this)),this.htmlViewer=new d.default(this.mainContainer),this.levels=new r.default(this.mainContainer,this.initApp.bind(this))}initApp(e){this.mainContainer.innerHTML="",this.elements.initElements(e),this.cssEditor.initCssEditor(e.answer),this.htmlViewer.initHtmlViewer(e.items),document.body.append(this.mainContainer)}levelComplete(){setTimeout((()=>{this.levels.nextLevel()}),1e3)}helpWithAnswer(){this.cssEditor.addAnswer(),this.levels.addInfoHelp()}}},731:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(801),t.default=class{constructor(e,t){this.container=e,this.callback=t,this.complete=!1,this.cssEditorInput=null,this.answerArr=null}initCssEditor(e){this.complete=!1,this.answerArr=e;const t=(0,s.addElement)("div","css-editor-wrapper"),n=(0,s.addElement)("div","css-editor-header-block"),i=(0,s.addElement)("h2","css-editor-header","CSS Editor"),l=(0,s.addElement)("span","css-editor-header-file","style.css");n.append(i,l);const a=(0,s.addElement)("div","css-editor-code-wrapper"),d=(0,s.addElement)("div","css-editor-code-numbers");for(let e=1;e<=20;e+=1){const t=(0,s.addElement)("div","css-editor-code-number",String(e));d.append(t)}const r=(0,s.addElement)("div","css-editor-code");r.addEventListener("keypress",(t=>{"Enter"===t.key&&this.checkAnswer(e)}));const o=(0,s.addElement)("div","css-editor-code-input-wrapper");this.cssEditorInput=document.createElement("input"),this.cssEditorInput.classList.add("css-editor-code-input"),this.cssEditorInput.setAttribute("placeholder","Type in a CSS selector");const c=(0,s.addElement)("button","css-editor-code-input-btn");c.textContent="Enter",c.addEventListener("click",(()=>this.checkAnswer(e))),o.append(this.cssEditorInput,c);const m=(0,s.addElement)("span","css-editor-code-value");m.textContent="{\n/* Styles would go here. */\n}",r.append(o,m),a.append(d,r),t.append(n,a),this.container.append(t)}checkAnswer(e){var t;(null===(t=this.cssEditorInput)||void 0===t?void 0:t.value)&&e.includes(this.cssEditorInput.value)?(document.querySelectorAll(".active").forEach((e=>{e.classList.add("complete")})),this.complete||(this.callback(),this.complete=!0)):(this.container.classList.add("error"),setTimeout((()=>{this.container.classList.remove("error")}),200))}addAnswer(){if(this.answerArr&&this.cssEditorInput instanceof HTMLInputElement){const[e]=this.answerArr,{cssEditorInput:t}=this;let n=0;setTimeout((function s(){t.value+=e[n],n<e.length-1&&setTimeout(s,300),n+=1}),300)}}}},391:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(68),t.default=class{constructor(e,t){this.container=e,this.callback=t,this.items=null}initElements(e){this.items=e.items;const t=(0,s.addElement)("div","elements-wrapper"),n=(0,s.addElement)("h2","elements-header");n.textContent=e.description;const i=(0,s.addElement)("button","elements-btn");i.textContent="Help, I'm stuck!",i.addEventListener("click",this.callback);const l=(0,s.addElement)("field");l.addEventListener("mouseover",(e=>(0,s.illuminateElementsAndCode)(e,!0))),l.addEventListener("mouseout",(e=>(0,s.illuminateElementsAndCode)(e,!1))),this.items.forEach(((e,t)=>{const n=(0,s.addElement)(e.element,e.class);n.dataset.id=String(t);const i=(0,s.addElement)("span","tooltip");if(i.textContent=`<${e.element}></${e.element}>`,e.id&&(n.classList.add(e.id),i.textContent=`<${e.element} class="${e.id}"></${e.element}>`),n.append(i),e.innerElement){const i=(0,s.addElement)(e.innerElement.element,e.innerElement.class);i.dataset.id=`in${t}`;const l=(0,s.addElement)("span","tooltip");l.textContent=`<${e.innerElement.element}></${e.innerElement.element}>`,e.innerElement.id&&(i.classList.add(e.innerElement.id),l.textContent=`<${e.innerElement.element} class="${e.innerElement.id}"></${e.innerElement.element}>`),i.append(l),n.append(i)}l.append(n)})),t.append(n,i,l),this.container.append(t)}}},0:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(335),t.default=function(){const e=(0,s.addElement)("footer","footer"),t=(0,s.addElement)("div","rss"),n=(0,s.addElement)("a","rss-link");n.setAttribute("href","https://rs.school/js/"),n.setAttribute("target","_blank");const i=(0,s.addElement)("img","rss-img");i.setAttribute("src","./img/rss_js.png"),i.setAttribute("alt","rss-link"),n.append(i),t.append(n);const l=(0,s.addElement)("div","github"),a=(0,s.addElement)("a","github-link");a.setAttribute("href","https://github.com/IlyaKhokhanov"),a.setAttribute("target","_blank");const d=(0,s.addElement)("img","github-img");d.setAttribute("src","./img/gh.png"),d.setAttribute("alt","github");const r=(0,s.addElement)("span","github-author");r.textContent=" Ilya Khokhanov 2023",a.append(d,r),l.append(a),e.append(t,l),document.body.append(e)}},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(562),t.default=function(){const e=document.createElement("header"),t=(0,s.addElement)("h1","header");t.textContent="CSS Selectors",e.append(t),document.body.append(e)}},829:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(757),t.default=class{constructor(e){this.container=e,this.items=null}initHtmlViewer(e){this.items=e;const t=(0,s.addElement)("div","html-viewer-wrapper"),n=(0,s.addElement)("div","html-viewer-header-block"),i=(0,s.addElement)("h2","html-viewer-header","HTML Viewer"),l=(0,s.addElement)("span","html-viewer-header-file","field.html");n.append(i,l);const a=(0,s.addElement)("div","html-viewer-code-wrapper"),d=(0,s.addElement)("div","html-viewer-code-numbers");for(let e=1;e<=19;e+=1){const t=(0,s.addElement)("div","html-viewer-code-number",String(e));d.append(t)}const r=(0,s.addElement)("div","html-viewer-code");r.addEventListener("mouseover",(e=>(0,s.illuminateElementsAndCode)(e,!0))),r.addEventListener("mouseout",(e=>(0,s.illuminateElementsAndCode)(e,!1)));const o=(0,s.addElement)("div"),c=(0,s.elemToHtmlViewer)("div",!0,!0,"field");o.append(c),r.append(o),this.items.forEach(((e,t)=>{const n=(0,s.addElement)("div","html-viewer-code-item");if(n.dataset.id=String(t),e.innerElement){const i=(0,s.elemToHtmlViewer)(e.element,!0,!0,e.id);n.append(i);const l=(0,s.addElement)("div","html-viewer-code-item");l.dataset.id=`in${t}`;const a=(0,s.elemToHtmlViewer)(e.innerElement.element,!0,!1,e.innerElement.id);l.append(a),n.append(l);const d=(0,s.elemToHtmlViewer)(e.element,!1,!0);n.appendChild(d)}else{const t=(0,s.elemToHtmlViewer)(e.element,!0,!1,e.id);n.append(t)}r.append(n)}));const m=(0,s.addElement)("div"),p=(0,s.elemToHtmlViewer)("div",!1,!0);m.append(p),r.append(m),a.append(d,r),t.append(n,a),this.container.append(t)}}},502:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(974),l=s(n(804));n(790);const a=s(n(313));t.default=class{constructor(e,t){this.container=e,this.callback=t,this.levelsData=l.default,this.currentLevel=0,this.sidebar=(0,i.addElement)("aside","sidebar"),this.initLevels()}initLevels(){this.sidebar.innerHTML="";const e=(0,i.addElement)("h2","sidebar-header");e.textContent="Levels";const t=(0,i.addElement)("ul","sidebar-list");this.levelsData.forEach(((e,n)=>{const s=(0,i.addElement)("li","sidebar-level"),l=document.createElement("img");l.classList.add("sidebar-level--img"),l.src=`./img/check-${e.complete?"green":"black"}.png`;const a=(0,i.addElement)("span","sidebar-level--text");a.textContent=e.name;const d=(0,i.addElement)("span","sidebar-level--wrapper");if(d.append(l,a),s.append(d),e.help){const e=document.createElement("img");e.classList.add("sidebar-level--img"),e.src="./img/question.png",s.append(e)}s.addEventListener("click",(e=>{var t;const{target:n}=e;n&&(this.currentLevel=Number(null===(t=n.textContent)||void 0===t?void 0:t.split(" ")[1])-1),this.initLevels()})),this.currentLevel===n&&s.classList.add("sidebar-level--active"),t.append(s)}));const n=(0,i.addElement)("button","sidebar-reset--btn");n.textContent="Reset Progress",n.addEventListener("click",(()=>this.resetProgress())),this.sidebar.append(e,t,n),document.body.append(this.sidebar),this.callback(this.levelsData[this.currentLevel||0])}resetProgress(){this.levelsData=this.levelsData.map((e=>Object.assign(Object.assign({},e),{complete:!1}))),this.currentLevel=0,this.initLevels()}nextLevel(){null!==this.currentLevel&&(this.levelsData[this.currentLevel].complete=!0,this.currentLevel!==this.levelsData.length-1&&(this.currentLevel+=1),this.levelsData.length===this.levelsData.filter((e=>e.complete)).length?(this.initLevels(),new a.default(this.container,this.resetProgress.bind(this))):this.currentLevel===this.levelsData.length-1?(this.currentLevel=this.levelsData.findIndex((e=>!e.complete)),this.initLevels()):this.levelsData[this.currentLevel].complete?this.nextLevel():this.initLevels())}addInfoHelp(){null!==this.currentLevel&&(this.levelsData[this.currentLevel].help=!0)}}},313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=n(974);n(247),t.default=class{constructor(e,t){this.container=e,this.callback=t,this.initModal()}initModal(){const e=(0,s.addElement)("div","overlay");e.addEventListener("click",(t=>{const{target:n}=t;n&&n.classList.contains("overlay")&&e.remove()}));const t=(0,s.addElement)("div","modal"),n=(0,s.addElement)("div","modal__btn-close");n.textContent="Ã—",n.addEventListener("click",(()=>e.remove()));const i=(0,s.addElement)("div","modal__content");i.classList.add("modal-info"),i.textContent="Hooray! You complete all levels!";const l=(0,s.addElement)("div","modal__btn-start");l.textContent="Reset progress",l.addEventListener("click",this.callback),t.append(n,i,l),e.append(t),this.container.append(e)}}},607:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(717)),l=s(n(0)),a=s(n(977));n(246),(0,a.default)(),new i.default,(0,l.default)()},974:(e,t)=>{function n(e,t,n){const s=document.createElement(e);return t&&s.classList.add(t),n&&(s.textContent=n),s}Object.defineProperty(t,"__esModule",{value:!0}),t.illuminateElementsAndCode=t.elemToHtmlViewer=t.addElement=void 0,t.addElement=n,t.elemToHtmlViewer=function(e,t,s,i){const l=n("span");if(t){const e=n("span","operator","<");l.append(e)}else{const e=n("span","operator","</");l.append(e)}const a=n("span","tag",e);if(l.append(a),i){const e=n("span","classEl"," class"),t=n("span","operator",'="'),s=n("span","classVal",i),a=n("span","operator",'"');l.append(e,t,s,a)}if(s){const e=n("span","operator",">");l.append(e)}else{const e=n("span","operator"," />");l.append(e)}return l},t.illuminateElementsAndCode=function(e,t){var n,s;if(e.target.closest("[data-id]")){const i=null===(s=null===(n=e.target.closest("[data-id]"))||void 0===n?void 0:n.dataset)||void 0===s?void 0:s.id;i&&document.querySelectorAll(`[data-id="${i}"]`).forEach((e=>{t?e.classList.add("hovered"):e.classList.remove("hovered")}))}}},804:e=>{e.exports=JSON.parse('[{"name":"Level 1","description":"Select the boxes","complete":false,"items":[{"element":"box","class":"active"},{"element":"box","class":"active"}],"answer":["box","*"]},{"name":"Level 2","description":"Select the boxes","complete":false,"items":[{"element":"box","class":"active"},{"element":"bucket"},{"element":"box","class":"active"}],"answer":["box"]},{"name":"Level 3","description":"Select the boxes","complete":false,"items":[{"element":"box","class":"active","id":"fansy"},{"element":"box"},{"element":"bucket"}],"answer":[".fansy"]},{"name":"Level 4","description":"Select the boxes","complete":false,"items":[{"element":"box"},{"element":"bucket","innerElement":{"element":"red-ball","class":"active"}},{"element":"red-ball"}],"answer":["bucket red-ball","bucket > *"]},{"name":"Level 5","description":"Select the boxes","complete":false,"items":[{"element":"box","innerElement":{"element":"blue-ball"}},{"element":"bucket","id":"fancy","innerElement":{"element":"red-ball","class":"active"}},{"element":"bucket","innerElement":{"element":"red-ball"}}],"answer":[".fansy red-ball"]}]')}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,n),l.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();